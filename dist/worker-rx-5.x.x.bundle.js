!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=130)}({1:function(e,t){e.exports=Rx},11:function(module,exports,__webpack_require__){"use strict";(function(global){var scheduler=null,_={get next(){return Rx.ReactiveTest.onNext},get complete(){return Rx.ReactiveTest.onCompleted}},experimentProto={get scheduler(){return null===scheduler&&(scheduler=new Rx.TestScheduler,scheduler.advanceTo(0)),scheduler},get bmi(){return{height$:this.scheduler.createHotObservable([1.76,1.77,1.78].map(function(e,t){return _.next(100*t,e)}).concat([_.complete(400)])),weight$:this.scheduler.createHotObservable([70,72,76,79,78,75].map(function(e,t){return _.next(100*t,e)}).concat([_.complete(700)]))}},get lottery(){var e=this;return{newYear$:Rx.Observable.interval(315576e5,survey.scheduler).map(function(e){return new Date(Date.UTC(e+2034,0,1))}),veryOldServer:function(t){return new Date(t).getTime()/1e3>Math.pow(2,31)?Rx.Observable.throw(new Error("Crash!"),e.scheduler):e.scheduler.createHotObservable(_.next(0,{msg:"calculating"}),_.next(10,{msg:"Happy new year!",winningTicket:Math.round(10*Math.random())}),_.complete(20))}}},get imdb(){var e=this,t=function(t){for(var n,r=0,o=[],i=[21,37,69,35,8,48,99,75,32,51,52,96,55,19,14,61,89,70,44,69,21,19,87,64,52,96,12,41,33,69,28,35,23,82,94,73,79,24,15,19,22,21,48,25,64,52,59,23,8,63,97,74,18,86,97,21,64,8,66,33,0,40,53,70,72,62,54,13,88,43,94,70,96,6,91,60,77,58,12,98,8,64,96,9,28,86,45,65,94,28,55,39,34,46,2,93,17,84,3],s=0;s<=t.length;s++)r+=i.shift(),o.push(_.next(r,t.slice(0,s)));return(n=e.scheduler).createHotObservable.apply(n,o)};return{_movies:["Them","Lion King","Belle & The Beast","Avatar","Harry Potter","Guardians of the Galaxy","House of Cards","Spectre","Interstellar","Iron Man","Terminator Genisys","The Titanic","The Avengers"],findMoviesAsync:function(t){var n=e.imdb._movies.filter(function(e){return e.toLowerCase().indexOf(t.toLowerCase())>=0}),r=100*n.length;return e.scheduler.createHotObservable(_.next(r,n),_.complete(r+1))},inputStream:t,johnsInput$:t("the titanic"),render:function(){}}},get render(){return function(){}},get renderSomething(){return function(){}},get log(){return function(){}},get showError(){return function(){}},get noop(){return function(){}}};eval("var experiment = experimentProto"),global.experiment=experimentProto,eval("var survey = experimentProto"),global.survey=experimentProto}).call(exports,__webpack_require__(4))},12:function(module,exports,__webpack_require__){"use strict";function formatError(e){return{message:e.message,name:e.name,original:void 0!==e.original?formatError(e.original):void 0,stack:e.stack.toString()}}function scopedEval(code){(function(){return eval(code)}).call(scope)}function evalAndRepackageErrors(e){try{return{result:scopedEval(e),type:"result"}}catch(e){try{scopedEval("throw new Error('ERROR')")}catch(o){var t=/\n\s+at Object.<anonymous> \((.*)\)/.exec(o.stack);if(null===t)return{error:e.stack,type:"error"};var n=e.stack.toString(),r=n.lastIndexOf("at Object.<anonymous> ("+t[1]+")");n=n.substring(0,r),n=n.split("eval at <anonymous> ("+t[1]+"), ").join(""),e.stack=n}return{error:formatError(e),type:"error"}}}function onWorkerMessage(e){return function(t){var n=t.data;switch(n.type){case"importScripts":importScripts(n.url),e();break;case"run":var r=evalAndRepackageErrors(n.code);"error"===r.type&&postMessage({error:r.error,type:"error"})}}}Object.defineProperty(exports,"__esModule",{value:!0});var scope={};exports.onWorkerMessage=onWorkerMessage,"function"==typeof postMessage&&postMessage("ready")},130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),importScripts("instrumentation/rxjs-5.x.x/Rx.js");var r=n(51);n(11);var o=n(12),i=n(52),s=n(24);onmessage=o.onWorkerMessage(function(){var e=new r.default(function(e){return postMessage(e)}),t=new i.TreeCollector(e,Rx);new s.default(t,Rx).setup(),console.info("Ready for RxJS 5 instrumentation"),Rx.version="5.3.0"})},24:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return"undefined"!=typeof performance?performance.now():Date.now()}function s(e,t){return"object"===(void 0===t?"undefined":b(t))&&e.Observable.prototype.isPrototypeOf(t)}function u(e,t){if(void 0===t)return"function"==typeof e.__originalFunction?1+u(e.__originalFunction):0;if(e.__instrumentedBy===t)return!0;var n=e.__originalFunction;return"function"==typeof n&&u(n,t)}function c(e){return"object"===(void 0===e?"undefined":b(e))&&null!==e&&e.hasOwnProperty("__dynamicallyInstrumented")}function a(e,t){return"object"===(void 0===t?"undefined":b(t))&&(t instanceof e.Observable||null!==t&&"function"==typeof t.subscribe)}function l(e,t){return"object"===(void 0===t?"undefined":b(t))&&t instanceof e.Subscriber}function f(e,t){return"object"===(void 0===t?"undefined":b(t))&&(t instanceof e.Subscriber||null!==t&&"function"==typeof t.next)&&t.constructor!==Object}function h(e,t){return"object"===(void 0===t?"undefined":b(t))&&(t instanceof e.Subject||null!==t&&"function"==typeof t.next&&"function"==typeof t.subscribe)}function d(e,t){return"object"===(void 0===t?"undefined":b(t))&&null!==t&&"now"in t&&"schedule"in t}var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var v=n(1);t.InstrumentedRx="undefined"==typeof Rx?v:Rx;var y=0,m=function(){function e(t,n){o(this,e),this.collector=t,this.Rx=n,this.prototypes=[],this.open=[],this.calls=[],this.callstacks=[],this.ignore=!1,this.collector=t,this.subjects={Observable:n.Observable.prototype,Subscriber:n.Subscriber.prototype,ObservableStatic:n.Observable,SubjectStatic:n.Subject,Subject:n.Subject.prototype,Scheduler:n.Scheduler.async.__proto__.__proto__}}return p(e,[{key:"setup",value:function(e,t){var n=this;void 0!==e?this.setupPrototype(e,t):Object.keys(this.subjects).filter(function(e){return void 0!==n.subjects[e]}).forEach(function(e){return n.setup(n.subjects[e],e)})}},{key:"teardown",value:function(){var e=this;this.prototypes.map(function(e){return Object.keys(e).map(function(t){return{key:t,target:e}})}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){var t=e.key;return"function"==typeof e.target[t]}).forEach(function(t){var n=t.key,r=t.target;r[n]=e.deinstrument(r[n])}),this.prototypes.filter(function(e){return"__dynamicallyInstrumented"in e}).forEach(function(e){return delete e.__dynamicallyInstrumented}),this.prototypes=[]}},{key:"apply",value:function(e,t,n,r,o,c){var a=this;if(this.ignore)return e.apply(t,r);r.filter(s).filter(function(e){return!u(e)}).forEach(function(e){return a.setupPrototype(e)});var l={arguments:[].slice.call(r,0),childs:[],id:y++,method:o,subject:n,subjectName:c,tick:0,time:i()};this.calls.push(l),this.open.length>0&&(l.parent=this.open[this.open.length-1],l.parent.childs.push(l)),this.open.push(l),this.callstacks.push(this.open.slice(0)),this.ignore=!0;var f=this.collector.before(l,this.open.slice(0,-1));this.ignore=!1;var h=t.apply(l.subject,[].map.call(l.arguments,this.wrap.bind(this))),d=l;return d.returned=h,this.ignore=!0,f.after(d),this.ignore=!1,[d.returned].filter(s).filter(function(e){return!u(e)}).forEach(function(e){return a.setupPrototype(e)}),this.open.pop(),d.returned}},{key:"instrument",value:function(e,t,n){var o=this,i=this;return new Proxy(e,{apply:function(r,i,s){return o.apply(e,r,i,s,t,n)},construct:function(e,t){return console.warn("TODO, instrument constructor",e,t),new(Function.prototype.bind.apply(e,[null].concat(r(t))))},get:function(t,n){return"__instrumentedBy"===n?i:"__originalFunction"===n?e:t[n]},ownKeys:function(e){return Object.getOwnPropertyNames(e).concat(["__instrumentedBy","__originalFunction"])}})}},{key:"deinstrument",value:function(e){return e.__originalFunction&&this.deinstrument(e.__originalFunction)||e}},{key:"setupPrototype",value:function(e,t){var n=this;if(void 0!==e){e.__dynamicallyInstrumented=!0;var r=Object.keys(e).filter(function(t){return"function"==typeof e[t]}).filter(function(t){return!u(e[t],n)});r.length&&(this.prototypes.push(e),r.forEach(function(r){e[r]=n.instrument(e[r],r,t||e.constructor.name)}))}}},{key:"wrap",value:function(e){var t=this;return a(this.Rx,e)&&!c(e.prototype)?(this.setupPrototype(e.prototype,e.constructor.name),e):d(this.Rx,e)&&!u(e.schedule)||f(this.Rx,e)&&!u(e.next)?new Proxy(e,{get:function(n,r){var o=n[r];return"__isInstrumentationWrapper"===r||("hasOwnProperty"===r?o:"function"==typeof o?t.instrument(o,r,e.constructor.name):o)},ownKeys:function(e){return Object.getOwnPropertyNames(e).concat(["__isInstrumentationWrapper"])}}):"function"!=typeof e||u(e,this)?e:this.instrument(e,e.name||"lambda",e.name||"lambda")}}]),e}();t.default=m,t.isInstrumented=u,t.isObservable=a,t.isSubscription=l,t.isObserver=f,t.isSubject=h,t.isScheduler=d},29:function(e,t,n){"use strict";function r(e){if(void 0!==e&&void 0!==e.subject)return"Observable"===e.subjectName||"Observable.prototype"===e.subjectName||"ObservableBase.prototype"===e.subjectName||e.subjectName&&e.subjectName.indexOf("Observable")>=0?"subscribe"===e.method||"_subscribe"===e.method||"__subscribe"===e.method||"_trySubscribe"===e.method?"subscribe":"setup":"event"}Object.defineProperty(t,"__esModule",{value:!0}),t.callRecordType=r},30:function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(7),c=function(){function e(t,n,r){i(this,e),this.type=t,this.timing=n,this.source=r}return s(e,null,[{key:"fromRecord",value:function(t,n,r){return e.fromCall(t.method,t.arguments,n,r)}},{key:"fromCall",value:function(e,t,n,r){switch(e){case"next":case"onNext":return new a(n,t[0],r);case"error":case"onError":case"fail":return new f(n,new l(t[0]),r);case"complete":case"onCompleted":return new h(n,r);case"connect":return new b(n,r);case"subscribe":case"_subscribe":case"__subscribe":return new d(n,r);case"dispose":case"unsubscribe":return new p(n,r)}}},{key:"fromJson",value:function(e){switch(e.type){case"next":return new a(e.timing,e.value,e.source);case"error":return new f(e.timing,e.error,e.source);case"complete":return new h(e.timing,e.source);case"subscribe":return new d(e.timing,e.source);case"dispose":return new p(e.timing,e.source);default:return null}}}]),e}();t.Event=c;var a=function(e){function t(e,n,o){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"next",e,o));return s.value=u.formatArguments([n]),s}return o(t,e),t}(c);t.Next=a;var l=function e(t){i(this,e),this.name=t.name,this.message=t.message,this.stack=t.stack};t.ErrorInstance=l;var f=function(e){function t(e,n,o){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"error",e,o));return s.error=n,s}return o(t,e),t}(c);t.Error=f;var h=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"complete",e,n))}return o(t,e),t}(c);t.Complete=h;var d=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"subscribe",e,n))}return o(t,e),t}(c);t.Subscribe=d;var b=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connect",e,n))}return o(t,e),t}(c);t.Connect=b;var p=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"dispose",e,n))}return o(t,e),t}(c);t.Dispose=p},4:function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}e.exports=r},5:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return t<=0||!e?e:o(e.split("\n").map(function(e){return"  "+e}).join("\n"),t-1)}function i(e,t,n){return e&&e.inspect?e.inspect(t,n):e&&e.toString?e.toString():e}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t,n,o,i){r(this,e),this.id=t,this.scheduler=i,n&&(this.names=[n]),o&&(this.logger=o,o.addNode(t,"observable",i&&Object.assign({},i)),o.addMeta(t,{names:n}))}return s(e,[{key:"setSources",value:function(e){var t=this;return this.sources=e,this.logger&&e.forEach(function(e){return t.logger.addEdge(e.id,t.id,"addSource",{label:"source"})}),this}},{key:"addMeta",value:function(e){return this.logger&&this.logger.addMeta(this.id,e),this}},{key:"inspect",value:function(e,t){if(e<100)return"ObservableTree("+this.id+", "+this.names+", "+(this.sources||[]).map(function(n){return o(i(n,e+2,t),2)})+")"}}]),e}();t.ObservableTree=u;var c=function(){function e(t,n,o){r(this,e),this.events=[],this.id=t,n&&(this.names=[n]),o&&(this.logger=o,o.addNode(t,"observer"),o.addMeta(t,{names:n}))}return s(e,[{key:"setSink",value:function(e){var t=this;return this.sink===e[0]?this:(this.sink=e[0],e.forEach(function(e){return e.addInflow(t)}),this.logger&&e.forEach(function(e){return t.logger.addEdge(t.id,e.id,"addObserverDestination",{label:"destination"})}),this)}},{key:"setOuter",value:function(e){return this.outer=e,e.addInflow(this),this.logger&&this.logger.addEdge(this.id,e.id,"addObserverOuter",{label:"outer"}),this}},{key:"addInflow",value:function(e){return this.inflow=this.inflow||[],this.inflow.indexOf(e)>=0?this:(this.inflow.push(e),this)}},{key:"setObservable",value:function(e){var t=this;if(this.observable){if(this.observable===e[0])return this;console.log("Adding second observable to ",this),console.log("becoming",e),console.log("was",this.observable),console.log((new Error).stack.split("\n").filter(function(e){return e.indexOf("instrumentation.ts")<0}).slice(0,5).join("\n"))}return this.observable=e[0],this.logger&&e.forEach(function(e){return t.logger.addEdge(e.id,t.id,"setObserverSource",{label:"observable"})}),this}},{key:"addEvent",value:function(e){return this.logger&&this.logger.addMeta(this.id,{events:e}),this.events.push(e),this}},{key:"inspect",value:function(e,t){return e>30?"depth 30 reached":this.sink?"ObserverTree("+this.id+", "+this.names+", \n"+o(i(this.sink,e+1,t),1)+"\n)":"ObserverTree("+this.id+", "+this.names+")"}}]),e}();t.ObserverTree=c;var a=function(){function e(t,n,o,i){r(this,e),this.events=[],this.id=t,this.scheduler=i,n&&(this.names=[n]),o&&(this.logger=o,o.addNode(t,"subject",i&&Object.assign({},i)),o.addMeta(t,{names:n})),this.observable=this}return s(e,[{key:"addSink",value:function(e,t){var n=this.sinks||[];return this.setSink(e,t),this.sinks=n.concat(e),this}},{key:"inspect",value:function(e,t){return e>30?"Too deep":"SubjectTree("+this.id+", "+this.names+", \n"+o(i(this.sink,e+2,t),2)+"\n)"}}]),e}();t.SubjectTree=a,function(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(n){void 0===e.prototype[n]&&(e.prototype[n]=t.prototype[n])})})}(a,[u,c]);var l=function e(t,n,o,i,s){r(this,e),this.id=t,this.name=n,this.type=o,this.clock=i,s.addScheduler(this.id,this)};t.SchedulerInfo=l},51:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){r(this,e),"function"==typeof t?this.post=t:"object"===("undefined"==typeof window?"undefined":o(window))&&window.parent?this.post=function(e){return window.parent.postMessage(e,window.location.origin)}:(this.post=function(e){},console.error("Using Window.postMessage logger in non-browser environment",new Error))}return i(e,[{key:"addNode",value:function(e,t,n){this.post({id:e,type:t,scheduler:n})}},{key:"addMeta",value:function(e,t){this.post({id:e,meta:t})}},{key:"addEdge",value:function(e,t,n,r){this.post({v:e,w:t,type:n,meta:r})}},{key:"addScheduler",value:function(e,t){this.post({id:e,scheduler:t})}},{key:"addContraction",value:function(e,t){this.post({id:e,contract:t})}},{key:"reset",value:function(){this.post("reset")}}]),e}();t.default=s},52:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e.scheduler||e._scheduler||e.operator&&e.operator.scheduler||t&&[].filter.call(t.arguments||[],y.isScheduler)[0]}function s(e,t){return t.source===e||Array.isArray(t._sources)&&t._sources.indexOf(e)>=0}function u(e){return e.source||Array.isArray(e._sources)&&e._sources.length>0}function c(e){return!e.parent||e.parent.subject!==e.subject}function a(e,t){return t instanceof e.VirtualTimeScheduler||t instanceof e.TestScheduler?"virtual":t===e.Scheduler.asap?"recursive":t===e.Scheduler.async?"timeout":t===e.Scheduler.animationFrame?"timeout":t===e.Scheduler.queue?"recursive":void 0}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var h=n(29),d=n(30),b=n(7),p=n(5),v=n(8),y=n(24),m=function(){function e(){o(this,e),this.last=0,this.used=!1}return f(e,[{key:"next",value:function(){this.used&&(this.used=!1,this.last++)}},{key:"get",value:function(){return this.used=!0,this.last}}]),e}(),g=function(){function e(t,n){o(this,e),this.Rx=n,this.nextId=1,this.eventSequencer=new m,this.wireStarts=[],this.wires=[],this.otree=[],this.stree=[],this.schedulers=[],this.logger=t,this.symbol=Symbol("tree"),this.subSymbol=Symbol("tree2")}return f(e,[{key:"schedule",value:function(e,t,n,r){this.eventSequencer.next()}},{key:"before",value:function(e,t){if([e.subject].concat(r(e.arguments)).forEach(this.tag.bind(this,void 0)),"schedule"===e.method&&this.schedule(e.subject,e.method,void 0,void 0),"event"===h.callRecordType(e)&&y.isObserver(this.Rx,e.subject)){var n=d.Event.fromRecord(e,this.getTiming());if(n){var o=this.tag("observer",e.subject);this.addEvent(o,n,e.arguments[0])}}if("subscribe"===h.callRecordType(e)&&y.isObservable(this.Rx,e.subject)&&y.isObserver(this.Rx,e.arguments[0])){var i=d.Event.fromRecord(e,this.getTiming());if(i){var s=this.tag("observer",e.arguments[0],e);this.addEvent(s,i)}}return this}},{key:"after",value:function(e){var t=this;if(this.call=e,[e.returned].forEach(function(n){return t.tag(void 0,n,e)}),y.isObservable(this.Rx,e.returned)){this.linkSources(e.returned);if(c(e)&&(s(e.subject,e.returned)||!y.isObservable(this.Rx,e.subject)&&!u(e.returned))){this.tag("observable",e.returned).addMeta({calls:{args:this.formatArguments.apply(this,r(e.arguments)),method:e.method,subject:"callRecord.subjectName "+(this.hasTag(e.subject)&&this.tag("observable",e.subject).id)}})}}"subscribe"===h.callRecordType(e)&&(y.isObserver(this.Rx,e.arguments[0])?(this.linkSubscribeSource(e.arguments[0],e.subject),this.linkSinks(e.arguments[0])):y.isObserver(this.Rx,e.returned)&&(this.linkSubscribeSource(e.returned,e.subject),this.linkSinks(e.returned)))}},{key:"getEventReason",value:function(e){}},{key:"addEvent",value:function(e,t,n){void 0!==t&&("next"===t.type&&y.isObservable(this.Rx,n)&&(t.value={id:this.tag("observable",n).id,type:n.constructor.name}),e.inflow&&0!==e.inflow.length||this.eventSequencer.next(),t.timing=this.getTiming(),e.addEvent(t))}},{key:"hasTag",value:function(e){return"object"===(void 0===e?"undefined":l(e))&&null!==e&&void 0!==e[this.symbol]}},{key:"tag",value:function(e,t,n){if("object"===(void 0===t?"undefined":l(t))&&null!==t){var r=this.symbol;if(y.isSubject(this.Rx,t)&&"observer"===e&&(r=this.subSymbol),t.hasOwnProperty(r)&&void 0!==t[r])return t[r];if(y.isSubject(this.Rx,t)){if("observable"===e){var o=t[this.symbol]=new p.ObservableTree(""+this.nextId++,t.constructor.name,this.logger,this.getScheduler(t));return this.linkSources(t),this.addo(o),this.linkSubject(o,t[this.subSymbol]),o}if("observer"===e){var i=t[this.subSymbol]=new p.SubjectTree(""+this.nextId++,t.constructor.name,this.logger,this.getScheduler(t));return this.linkSinks(t),this.adds(i),this.linkSubject(t[this.symbol],i),i}}if(y.isObservable(this.Rx,t)){t&&t.constructor&&"ScalarObservable"===t.constructor.name&&(t._isScalar=!1);var s=t[r]=new p.ObservableTree(""+this.nextId++,t.constructor.name,this.logger,this.getScheduler(t,n));return this.linkSources(t),this.addo(s),s}if(y.isObserver(this.Rx,t)){var u=t[r]=new p.ObserverTree(""+this.nextId++,t.constructor.name,this.logger);return this.linkSinks(t),this.adds(u),u}if(y.isScheduler(this.Rx,t)){var c=t,f=c.now(),h=a(this.Rx,t),d=new p.SchedulerInfo(""+this.nextId++,v.getPrototype(c).constructor.name,h,f,this.logger);return t[r]=d,this.schedulers.push({scheduler:c,info:d}),d}}}},{key:"adds",value:function(e){this.stree.push(e)}},{key:"addo",value:function(e){this.otree.push(e)}},{key:"getScheduler",value:function(e,t){if(y.isObservable(this.Rx,e)&&i(e,t))return this.tag("scheduler",i(e,t))}},{key:"getTiming",value:function(){var e={tick:this.eventSequencer.get()};return this.scheduler?(e[this.scheduler.info.id]=this.scheduler.scheduler.now(),Object.assign({scheduler:this.scheduler.info.id,clocks:e})):{clocks:e,scheduler:"tick"}}},{key:"linkSources",value:function(e){var t=this,n=[e.source].concat(r(e._sources||[])).filter(y.isObservable).map(function(e){return t.tag("observable",e)});n.indexOf(this.tag("observable",e))>=0&&console.log("Reference loop",e,this.call),this.tag("observable",e).setSources(n)}},{key:"linkSinks",value:function(e){var t=this;if(!y.isObservable(this.Rx,e)){var n=[e.destination].filter(function(e){return y.isObserver(t.Rx,e)||y.isSubject(t.Rx,e)}).map(function(e){return t.tag("observer",e)});this.tag("observer",e).setSink(n);[e.parent].filter(y.isObserver.bind(null,this.Rx)).map(function(e){return t.tag("observer",e)}).forEach(function(n){return t.tag("observer",e).setOuter(n)})}}},{key:"linkSubscribeSource",value:function(e,t){if(y.isSubject(this.Rx,t)){var n=this.tag("observable",t),r=this.tag("observer",t);if(0===n.sources.length)return r.addSink([this.tag("observer",e)]),void this.tag("observer",e).setObservable([n])}var o=this.tag("observer",e),i=this.tag("observable",t);void 0===o.observable&&o.setObservable([i])}},{key:"linkSubject",value:function(e,t){void 0!==e&&void 0!==t&&void 0===t.observable&&t.setObservable([e])}},{key:"formatArguments",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(function(t){return"number"==typeof t||"string"==typeof t?{type:void 0===t?"undefined":l(t),value:b.formatArguments([t])}:"object"===(void 0===t?"undefined":l(t))?Array.isArray(t)?{type:"array",value:b.formatArguments(t)}:e.hasTag(t)?{$ref:e.tag(void 0,t).id,type:"ref",value:b.formatObject(t,0)}:{type:"object",value:b.formatArguments([t])}:"function"==typeof t?{type:"function",value:b.formatArguments([t])}:void 0})}}]),e}();t.TreeCollector=g;var _=function(){function e(t,n,r){o(this,e),this.call=t,this.from=n,this.to=r,this._depth=this.depth}return f(e,[{key:"depth",get:function(){return function e(t){return void 0===t.parent||"setup"!==h.callRecordType(t.parent)?0:e(t.parent)+1}(this.call)}}]),e}();!function(){function e(t,n){o(this,e),this.call=t,this.from=n}f(e,[{key:"to",value:function(e){return new _(this.call,this.from,e)}}])}()},7:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null===e)return"null";if(t<=0)return(e.constructor&&"Object"!==e.constructor.name?"["+e.constructor.name+"] ":"")+"{...}";var r=("Object"!==e.constructor.name?"["+e.constructor.name+"] ":"")+"{",o=0;for(var s in e)if(e.hasOwnProperty(s)&&"_"!==s[0]){o>0&&(r+=","),o++;for(var u="",c=0;c<n;c++)u+="  ";r+="\n"+u+'"'+s+'": '+i([e[s]],t-1,n+1)}return r+="{"===r[r.length-1]?"}":"\n}"}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[].map.call(e,function(e){switch(void 0===e?"undefined":u(e)){case"undefined":return"undefined";case"object":return Array.isArray(e)?"["+i(e,t-1,n+1)+"]":o(e,t-1,n+1);case"function":return"function"==typeof e.__original?e.__original.toString():"function"==typeof e.__originalFunction?e.__originalFunction.toString():e.toString();case"string":return'"'+e.substring(0,512)+'"';case"boolean":return e.toString();case"number":return e;default:throw new TypeError("Invalid type "+(void 0===e?"undefined":u(e)))}}).join(", ")}function s(e){return i(e)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){r(this,e),this.post=t}return c(e,[{key:"addNode",value:function(e,t,n){this.post({id:e,type:t,scheduler:n})}},{key:"addMeta",value:function(e,t){this.post({id:e,meta:t})}},{key:"addEdge",value:function(e,t,n,r){this.post({v:e,w:t,type:n,meta:r})}},{key:"addScheduler",value:function(e,t){this.post({id:e,scheduler:t})}},{key:"addContraction",value:function(e,t){this.post({id:e,contract:t})}},{key:"reset",value:function(){this.post("reset")}}]),e}();t.default=a,t.formatObject=o,t.formatArguments=s},8:function(e,t,n){"use strict";function r(e){var t=this;return this.reduce(function(n,r,o){return n.concat(e(r,o,t))},[])}function o(e,t){return-1!==e.indexOf(t,e.length-t.length)}function i(e){return e.length>=1?e[e.length-1]:void 0}function s(e){return e.length>=1?e[0]:void 0}function u(e){return e.protoype||e.__proto__}Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=r,Object.defineProperty?Object.defineProperty(Array.prototype,"flatMap",{configurable:!1,enumerable:!1,value:r,writable:!1}):Array.prototype.flatMap=r,t.endsWith=o,t.last=i,t.head=s,t.getPrototype=u}});
//# sourceMappingURL=worker-rx-5.x.x.bundle.js.map